$date
	Wed Nov 26 15:26:12 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1s
$end
$scope module tb_cpu $end
$var reg 1 ! clk $end
$var reg 1 " reset $end
$scope module uut $end
$var wire 1 ! clk $end
$var wire 1 " reset $end
$var wire 3 # state [2:0] $end
$var wire 4 $ rs2 [3:0] $end
$var wire 4 % rs1 [3:0] $end
$var wire 8 & reg_write_data [7:0] $end
$var wire 1 ' reg_write $end
$var wire 8 ( reg_rs2 [7:0] $end
$var wire 8 ) reg_rs1 [7:0] $end
$var wire 4 * rd [3:0] $end
$var wire 1 + pc_enable $end
$var wire 8 , pc [7:0] $end
$var wire 4 - opcode [3:0] $end
$var wire 1 . mem_write $end
$var wire 1 / mem_read $end
$var wire 16 0 instruction [15:0] $end
$var wire 1 1 halt $end
$var wire 8 2 data_out [7:0] $end
$var wire 8 3 alu_result [7:0] $end
$var wire 1 4 alu_enable $end
$scope module alu_inst $end
$var wire 4 5 opcode [3:0] $end
$var wire 1 4 enable $end
$var wire 8 6 b [7:0] $end
$var wire 8 7 a [7:0] $end
$var reg 8 8 result [7:0] $end
$upscope $end
$scope module cu_inst $end
$var wire 1 ! clk $end
$var wire 4 9 opcode [3:0] $end
$var wire 1 " reset $end
$var reg 1 4 alu_enable $end
$var reg 1 1 halt $end
$var reg 1 / mem_read $end
$var reg 1 . mem_write $end
$var reg 3 : next_state [2:0] $end
$var reg 1 + pc_enable $end
$var reg 1 ' reg_write $end
$var reg 3 ; state [2:0] $end
$upscope $end
$scope module data_mem_inst $end
$var wire 8 < address [7:0] $end
$var wire 1 ! clk $end
$var wire 1 / mem_read $end
$var wire 1 . mem_write $end
$var wire 8 = write_data [7:0] $end
$var reg 8 > read_data [7:0] $end
$upscope $end
$scope module instr_mem_inst $end
$var wire 8 ? address [7:0] $end
$var reg 16 @ instruction [15:0] $end
$upscope $end
$scope module pc_inst $end
$var wire 1 ! clk $end
$var wire 1 + pc_enable $end
$var wire 1 " reset $end
$var reg 8 A pc [7:0] $end
$upscope $end
$scope module regfile_inst $end
$var wire 1 ! clk $end
$var wire 4 B rd [3:0] $end
$var wire 1 ' reg_write $end
$var wire 1 " reset $end
$var wire 4 C rs1 [3:0] $end
$var wire 4 D rs2 [3:0] $end
$var wire 8 E write_data [7:0] $end
$var reg 8 F out_rs1 [7:0] $end
$var reg 8 G out_rs2 [7:0] $end
$var integer 32 H i [31:0] $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
#0
$dumpvars
b10000 H
b0 G
b0 F
b0 E
b11 D
b10 C
b1 B
b0 A
b1000100100011 @
b0 ?
bx >
b0 =
b0 <
b0 ;
b1 :
b1 9
b0 8
b0 7
b0 6
b1 5
04
b0 3
bx 2
01
b1000100100011 0
0/
0.
b1 -
b0 ,
1+
b1 *
b0 )
b0 (
0'
b0 &
b10 %
b11 $
b0 #
1"
0!
$end
#5
b10000 H
1!
#10
0!
#15
b10000 H
1!
#20
0!
0"
#25
b0 $
b0 D
b0 %
b0 C
b0 *
b0 B
b1111 -
b1111 5
b1111 9
b10 :
0+
b1111000000000000 0
b1111000000000000 @
b1 #
b1 ;
b1 ,
b1 ?
b1 A
1!
#30
0!
#35
b101 :
14
b10 #
b10 ;
1!
#40
0!
#45
11
04
b101 #
b101 ;
1!
#50
0!
#55
1!
#60
0!
#65
1!
#70
0!
#75
1!
#80
0!
#85
1!
#90
0!
#95
1!
#100
0!
#105
1!
#110
0!
#115
1!
#120
0!
#125
1!
#130
0!
#135
1!
#140
0!
#145
1!
#150
0!
#155
1!
#160
0!
#165
1!
#170
0!
#175
1!
#180
0!
#185
1!
#190
0!
#195
1!
#200
0!
#205
1!
#210
0!
#215
1!
#220
0!
#225
1!
#230
0!
#235
1!
#240
0!
#245
1!
#250
0!
#255
1!
#260
0!
#265
1!
#270
0!
#275
1!
#280
0!
#285
1!
#290
0!
#295
1!
#300
0!
